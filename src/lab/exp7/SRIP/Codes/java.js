var img;

function construct() {

    var draw = window.value;

    var v30 = draw.polyline([
        [525, 162],
        [915, 170]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v45 = draw.polyline([
        [547, 151],
        [905, 158]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v46 = draw.polyline([
        [564, 140],
        [890, 148]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v47 = draw.polyline([
        [585, 130],
        [870, 135]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v48 = draw.polyline([
        [610, 120],
        [848, 123]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v49 = draw.polyline([
        [630, 110],
        [835, 113]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v50 = draw.polyline([
        [650, 100],
        [810, 103]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v51 = draw.polyline([
        [670, 90],
        [790, 93]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v52 = draw.polyline([
        [690, 80],
        [770, 82]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v53 = draw.polyline([
        [710, 70],
        [745, 70]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v54 = draw.polyline([
        [545, 172],
        [900, 180]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v55 = draw.polyline([
        [565, 182],
        [890, 190]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v56 = draw.polyline([
        [575, 192],
        [875, 200]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v57 = draw.polyline([
        [585, 202],
        [850, 210]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v58 = draw.polyline([
        [610, 212],
        [837, 220]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v59 = draw.polyline([
        [635, 222],
        [825, 230]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v60 = draw.polyline([
        [650, 232],
        [811, 240]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v61 = draw.polyline([
        [670, 242],
        [785, 250]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v62 = draw.polyline([
        [685, 252],
        [765, 258]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v63 = draw.polyline([
        [695, 262],
        [750, 267]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    /*******************************************************************************************/

    var v1 = draw.polyline([
        [500, 150],
        [730, 280],
        [950, 150],
        [720, 30],
        [500, 150]
    ]).fill('none').stroke({
        width: 2
    });

    var v2 = draw.polyline([
        [720, 30],
        [720, 60],
        [522, 164],
        [500, 150]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v3 = draw.polyline([
        [720, 30],
        [720, 60],
        [928, 165],
        [950, 150]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v4 = draw.polyline([
        [500, 150],
        [500, 320],
        [730, 450],
        [730, 280]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v5 = draw.polyline([
        [730, 280],
        [730, 450],
        [950, 320],
        [950, 150]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v6 = draw.polyline([
        [720, 30],
        [720, 60],
        [522, 164],
        [500, 150]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v7 = draw.polyline([
        [500, 150],
        [730, 280],
        [950, 150],
        [720, 30],
        [500, 150]
    ]).fill('none').stroke({
        width: 2
    });

    /****************************************************************************************/

    var v8 = draw.polyline([
        [790, 450],
        [940, 355],
        [1090, 420],
        [950, 520],
        [790, 450]
    ]).fill('none').stroke({
        width: 2
    });

    var v9 = draw.polyline([
        [940, 355],
        [940, 380],
        [810, 459],
        [790, 450]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v10 = draw.polyline([
        [940, 355],
        [940, 380],
        [1072, 433],
        [1090, 420]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v11 = draw.polyline([
        [790, 450],
        [790, 540],
        [950, 615],
        [950, 520]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v12 = draw.polyline([
        [950, 520],
        [950, 615],
        [1090, 515],
        [1090, 420]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v13 = draw.polyline([
        [790, 450],
        [940, 355],
        [1090, 420],
        [950, 520],
        [790, 450]
    ]).fill('none').stroke({
        width: 2
    });
    /******************************************************************************************/


    var v14 = draw.polyline([
        [500, 320],
        [500, 500],
        [535, 520],
        [535, 338]
    ]).stroke({
        width: 2
    });

    var v15 = draw.polyline([
        [535, 520],
        [700, 380]
    ]).stroke({
        width: 2
    });

    var v16 = draw.polyline([
        [500, 150],
        [500, 320],
        [730, 450],
        [730, 280]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v17 = draw.polyline([
        [500, 150],
        [730, 280],
        [950, 150],
        [720, 30],
        [500, 150]
    ]).fill('none').stroke({
        width: 2
    });

    var v18 = draw.polyline([
        [690, 427],
        [690, 565],
        [730, 590],
        [730, 450]
    ]).stroke({
        width: 2
    });

    var v19 = draw.polyline([
        [730, 590],
        [790, 540]
    ]).stroke({
        width: 2
    });

    var v20 = draw.polyline([
        [950, 300],
        [950, 360]
    ]).stroke({
        width: 2
    });

    /*******************************************************************************************/

    var v21 = draw.polyline([
        [950, 615],
        [950, 650],
        [930, 640],
        [930, 605]
    ]).stroke({
        width: 2
    });

    var v22 = draw.polyline([
        [950, 650],
        [1090, 545],
        [1090, 510]
    ]).fill('none').stroke({
        width: 2
    });

    var v23 = draw.polyline([
        [790, 538],
        [790, 585],
        [810, 595],
        [810, 550]
    ]).stroke({
        width: 2
    });

    var v24 = draw.polyline([
        [810, 595],
        [845, 565]
    ]).stroke({
        width: 2
    });

    /*******************************************************************************************/

    var v26 = draw.polyline([
        [520, 40],
        [620, 100],
        [630, 120],
        [650, 110],
        [640, 90],
        [540, 30]
    ]).stroke({
        width: 2
    });

    // var v27=draw.circle(50).fill('none').move(510,12).stroke({
    //     width:2
    // });

    // var v28=draw.circle(60).fill('none').move(505,7).stroke({
    //     width:2
    // });

    var v29 = draw.polyline([
        [520, 40],
        [530, 50],
        [615, 103],
        [620, 115],
        [630, 120]
    ]).fill('none').stroke({
        width: 2
    });

    /*******************************************************************************************/
    // var v30=draw.polyline([[525,165],[730,280],[925,163],[720,60]]).fill('#2DA4E5').opacity(0.7);

    var v31 = draw.polyline([
        [520, 40],
        [620, 100],
        [630, 120],
        [650, 110],
        [640, 90],
        [540, 30]
    ]).stroke({
        width: 2
    });

    /*******************************************************************************************/

    var v32 = draw.polyline([
        [805, 340],
        [860, 400]
    ]).stroke({
        width: 2
    });

    var v33 = draw.polyline([
        [850, 310],
        [900, 370]
    ]).stroke({
        width: 2
    });

    var v34 = draw.path("M 857 400 A 200 2000 100 0 0 900 370").fill('none').stroke({
        width: 2
    });

    var v35 = draw.path("M 857 400 A 200 2000 100 0 1 900 370").fill('none').stroke({
        width: 2
    });

    var v36 = draw.path("M 805 340 A 200 1700 100 0 1 850 310").fill('#425058').stroke({
        width: 2
    });

    var v37 = draw.polyline([
        [850, 310],
        [805, 340],
        [850, 390],
        [900, 368]
    ]).fill('#425058');

    var v38 = draw.polyline([
        [857, 400],
        [820, 330],
        [860, 360],
        [885, 360]
    ]).fill('#425058');

    var v39 = draw.polyline([
        [805, 340],
        [860, 400]
    ]).stroke({
        width: 2
    });

    var v40 = draw.polyline([
        [850, 310],
        [900, 370]
    ]).stroke({
        width: 2
    });

    var v41 = draw.path("M 857 400 A 200 2000 100 0 0 900 370").fill('#829097').stroke({
        width: 2
    });

    var v42 = draw.path("M 857 400 A 200 2000 100 0 1 900 370").fill('#829097').stroke({
        width: 2
    });

    var v43 = draw.path("M 805 340 A 200 1700 100 0 1 850 310").fill('#425058').stroke({
        width: 2
    });

    /*******************************************************************************************/
    var v44 = draw.polyline([
        [200, 670],
        [1400, 670]
    ]).stroke({
        width: 2
    });
}

window.onload = function() {
    window.value = SVG("setup").size(1800, 800);
    document.getElementById('plot').disabled = true;
    construct();
}

function reload() {
    document.getElementById('start').disabled = true;

    location.reload();
}


function construct2() {
    var draw = window.value;

    var v1 = draw.polyline([
        [805, 460],
        [1075, 435]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v2 = draw.polyline([
        [828, 470],
        [1065, 445]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v3 = draw.polyline([
        [855, 478],
        [1050, 458]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v4 = draw.polyline([
        [875, 490],
        [1030, 472]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v5 = draw.polyline([
        [890, 500],
        [1010, 485]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v6 = draw.polyline([
        [910, 510],
        [1000, 500]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v7 = draw.polyline([
        [828, 447],
        [1055, 425]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v8 = draw.polyline([
        [845, 435],
        [1040, 415]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v9 = draw.polyline([
        [860, 425],
        [1020, 408]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v10 = draw.polyline([
        [880, 413],
        [1000, 400]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v11 = draw.polyline([
        [900, 402],
        [980, 392]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v12 = draw.polyline([
        [920, 390],
        [945, 385]
    ]).stroke({
        width: 2,
        dasharray: 4,
        color: '#2DA4E5'
    });

    var v13 = draw.polyline([
        [940, 355],
        [940, 380],
        [1072, 433],
        [1090, 420]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v14 = draw.polyline([
        [790, 450],
        [790, 540],
        [950, 615],
        [950, 520]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v15 = draw.polyline([
        [950, 520],
        [950, 615],
        [1090, 515],
        [1090, 420]
    ]).fill('#A3A09E').stroke({
        width: 2
    });

    var v16 = draw.polyline([
        [790, 450],
        [940, 355],
        [1090, 420],
        [950, 520],
        [790, 450]
    ]).fill('none').stroke({
        width: 2
    });
}


function animation(btn) {

    document.getElementById(btn.id).disabled = true;

    var draw = window.value;

    var v0 = draw.rect(7, 0.01).attr({
        'fill': '#2DA4E5',
        x: 646,
        y: 111
    });

    v0.animate().size(7, 6);

    var v1 = draw.rect(14, .01).attr({
        'fill': '#2DA4E5',
        x: 639,
        y: 115
    });

    v1.animate({
        delay: '0.5s'
    }).size(14, 5);

    var v2 = draw.rect(22, 0.1).attr({
        'fill': '#2DA4E5',
        x: 631,
        y: 118
    });

    v2.animate({
        delay: '1s'
    }).size(22, 50);

    var v26 = draw.polyline([
        [520, 40],
        [620, 100],
        [630, 120],
        [650, 110],
        [640, 90],
        [540, 30]
    ]).stroke({
        width: 2
    });

    var v3 = draw.rect(22, 0.01).attr({
        'fill': '#2DA4E5',
        x: 880,
        y: 377
    });

    v3.animate({
        delay: '2s'
    }).size(22, 10);

    var v4 = draw.rect(38, 0.01).attr({
        'fill': '#2DA4E5',
        x: 863,
        y: 387
    });

    v4.animate({
        delay: '3s'
    }).size(38, 60);

    var v5 = draw.polyline([
        [850, 310],
        [805, 340],
        [850, 390],
        [900, 368]
    ]).fill('#425058');

    var v6 = draw.polyline([
        [857, 400],
        [820, 330],
        [860, 360],
        [885, 360]
    ]).fill('#425058');

    var v7 = draw.polyline([
        [805, 340],
        [860, 400]
    ]).stroke({
        width: 2
    });

    var v8 = draw.polyline([
        [850, 310],
        [900, 370]
    ]).stroke({
        width: 2
    });

    var v9 = draw.path("M 857 400 A 200 2000 100 0 0 900 370").fill('#829097').stroke({
        width: 2
    });

    var v10 = draw.path("M 857 400 A 200 2000 100 0 1 900 370").fill('#829097').stroke({
        width: 2
    });

    var v11 = draw.path("M 805 340 A 200 1700 100 0 1 850 310").fill('#425058').stroke({
        width: 2
    });

    setTimeout(construct2, 4000);
    // var v12=draw.polyline([[500,500],[600,500],[600,600]]).fill('#2DA4E5').opacity(0.7)

}


function b() {
    var g = 9.81;

    var a1, a2, l1, l2, b1, b2, h1, h2, t1, t2, d1, d2;

    h1 = document.getElementById("form").elements["water-head1"].value;

    h2 = document.getElementById("form").elements["water-head2"].value;

    d1 = document.getElementById("form").elements["diameter1"].value;

    d2 = document.getElementById("form").elements["diameter2"].value;

    l1 = document.getElementById("form").elements["length1"].value;

    l2 = document.getElementById("form").elements["length2"].value;

    b1 = document.getElementById("form").elements["width1"].value;

    b2 = document.getElementById("form").elements["width2"].value;

    t1 = document.getElementById("form").elements["time1"].value;

    t2 = document.getElementById("form").elements["time2"].value;

    a1 = l1 * b1;
    a2 = l2 * b2;

    try {
        var act_discharge1 = parseFloat(a1 * b1) / t1;

        var calc_discharge1 = parseFloat(Math.sqrt(2 * g * h1)) * a1;


        var act_discharge2 = parseFloat(a2 * b2) / t2;

        var calc_discharge2 = parseFloat(Math.sqrt(2 * g * h2)) * a2;

        var efficiency = parseFloat(act_discharge1 - act_discharge2) / parseFloat(calc_discharge1 - calc_discharge2);

        // alert(act_discharge1);
        // alert(calc_discharge1);

        // alert(act_discharge2);
        // alert(calc_discharge2);

        alert("The coefficient of discharge is "+Math.abs(efficiency));

        var chart = new CanvasJS.Chart("chartContainer", {

            animationEnabled: true,

            title: {

                text: "Co-Efficient of Discharge"
            },

            legend:{
                cursor: "pointer",
                fontSize: 16
            },
            data: [{
                    name: "vs H",
                    type: "spline",
                    showInLegend: true,
                    dataPoints: [
                        { x: h1, y:act_discharge1 },
                        { x: h2, y:act_discharge2 }
                    ]
                },
                {
                    name: "vs sqrt(H)",
                    type: "spline",
                    showInLegend: true,
                    dataPoints: [
                        { x:Math.sqrt(h1) , y:act_discharge1 },
                        { x:Math.sqrt(h2) , y:act_discharge2 }
                    ]
                }]
        });

        chart.render();

    } catch (e) {
        alert("Error: " + e);
    }
}

function enable() {
    document.getElementById('plot').disabled = false;
}